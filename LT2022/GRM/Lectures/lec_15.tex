\lecture{15}{22 Feb. 2022}{}
\subsection{Factorization in Polynomial Rings}
Goal of today is to prove the following theorem.
\begin{theorem}{}{polyufd}
    If \(R\) is a UFD, then \(R[X]\) is a UFD.
\end{theorem}
In this section \(R\) is a UFD with field of fractions \(F\). We have \(R[X] \leq F[X]\). Moreover, \(F[X]\) is a ED, hence a PID and UFD.
\begin{definition}{}{}
    The \textit{content} of \(f=a_n X^n + \cdots + a_1 X + a_0 \in R[X]\) is \(c(f) = \gcd(a_0, \ldots, a_n)\). (well-defined up to multiplication by a unit)

    We say \(f\) is \textit{primitive} if \(c(f)\) is a unit.
\end{definition}
\begin{lemma}{}{primepoly}
    \leavevmode
    \begin{enumerate}
        \item If \(f,g \in R[X]\) are primitive, then \(fg\) is primitive;
        \item if \(f,g\in R[X]\), then \(c(fg) = c(f)c(g)\) (up to multiplication by a unit).
    \end{enumerate}
\end{lemma}
\begin{proof}
    \leavevmode
    \begin{enumerate}
        \item Let \(f = a_n X^n + \cdots + a_1 X + a_0\), \(g = a_m X^m + \cdots + b_i X + b_0\). If \(fg\) is not primitive, \(c(fg)\) is not a unit, so there is some prime \(p\) such that \(p \mid c(fg)\).
    
        Since \(f, g\) are primitive, \(p \nmid c(f)\) and \(p \nmid c(g)\). Suppose \(p \mid a_0, p \mid a_1, \ldots, p \nmid a_k\) and \(p \mid b_0, p \mid b_1, \ldots,p \nmid b_l\). Then the coefficient of \(X^{k + l}\) in \(fg\) is
        \[
            \sum_{i + j = k + l}a_{i}b_j = \underbrace{\ldots + a_{k-1}b_{l+1}}_{\text{divisible by }p} + a_{k}b_l + \underbrace{a_{k+1}b_{l-1} + \ldots}_{\text{divisible by }p}.
        \]
        Thus, \(p \mid a_k b_l \implies p \mid a_k\) or \(p \mid b_l\) since \(p\) is prime.
        \item Write \(f = c(f)\cdot f_0\) and \(g = c(g)\cdot g_0\) where \(f_0, g_0\) are primitive polynomials. Then \(fg = c(f)c(g)f_{0}g_0\). So by the previous part, \(c(fg)= c(f)c(g)\) (up to multiplication by unit).
    \end{enumerate}
\end{proof}
\begin{corollary}{}{primeinpoly}
    Let \(p \in R\) be prime. Then \(p\) is prime in \(R[X]\).
\end{corollary}
\begin{proof}
    \(R[X]^\times = R^\times\), so \(p\) is not a unit in \(R[X]\).

    Let \(f \in R[X]\). Then \(p \mid f\) in \(R[X]\) if and only if \(p \mid c(f)\) in \(R\). Thus, if \(p \mid gh\) in \(R[X]\), we have \(p \mid c(gh) = c(g)c(h)\). Because \(p\) is prime, we have \(p \mid c(g)\) or \(p \mid c(h)\). So, \(p \mid g\) or \(p \mid h\). That is, \(p\) is prime in \(R[X]\).
\end{proof}
\begin{lemma}{}{guassll}
    Let \(f, g \in R[X]\) with \(g\) primitive. If \(g \mid f\) in \(F[X]\), then \(g\mid f\) in \(R[X]\).
\end{lemma}
\begin{proof}
    Let \(f = gh\) with \(h \in F[X]\). Let \(0 \neq a \in R\) such that \(ah \in R[X]\), and write \(ah = c(ah)h_0\) with \(h_0\) primitive. Then \(af = c(ah)h_0 g\) with \(h_0 g\) primitive. Taking contents, we find \(a \mid c(ah)\). Thus, \(h \in R[X]\) and \(g \mid f\) in \(R[X]\).
\end{proof}
\begin{lemma}{Gauss's Lemma}{Guassle}
    Let \(f \in R[X]\) be primitive. Then \(f\) irreducible in \(R[X]\implies\) \(f\) irreducible in \(F[X]\).
\end{lemma}
\begin{proof}
    Since \(f \in R[X]\) is irreducible and primitive, we have \(\deg f > 0\), and so \(f\) is not a unit in \(F[X]\).

    Suppose that \(f\) is not irreducible in \(F[X]\), say \(f = gh\) where \(g, h \in F[X]\) with \(\deg g, \deg h > 0\).

    Let \(\lambda \in F^\times \) such that \(\lambda^{-1}g \in R[X]\) is primitive. (e.g., let \(0 \neq b \in R\) such that \(bg \in R[X]\), then \(bg = c(bg)g_0\) with \(g_0\) primitive, so \(\lambda=\frac{c(bg)}{b}\in R^\times \)). Upon replacing \(g\) be \(\lambda^{-1}g\) and \(h\) by \(\lambda h\), we may assume \(g \in R[X]\) be primitive.

    Then \cref{le:guassll} implies \(h \in R[X]\) and so \(f = gh\) in \(R[X]\), with \(\deg g, \deg h > 0\) so \(f\) is not irreducible, and contradiction.
\end{proof}
\begin{remark}
    We'll see that the reverse implication also holds.
\end{remark}
\begin{lemma}{}{primepolyprime}
    Let \(g \in R[X]\) be a primitive. Then \(g\) prime in \(F[X] \implies g\) prime in \(R[X]\).
\end{lemma}
\begin{proof}
    Suppose \(f_1, f_2 \in R[X]\) and \(g \mid f_1 f_2\) in \(R[X]\). Because \(g\) is prime in \(F[X]\), \(g \mid f_1\) or \(g \mid f_2\) in \(F[X]\). By \cref{le:guassll}, \(g \mid f_1\) or \(g \mid f_2\) in \(R[X]\). That is, \(g\) is prime in \(R[X]\).
\end{proof}
\begin{proof}[Proof of \cref{th:polyufd}]
    Let \(f \in R[X]\). Write \(f = c(f) f_0\) with \(f_0\in R[X]\) primitive. \(R\) is a UFD, so \(c(f)\) is a product of irreducibles in \(R\), which are also irreducible in \(R[X]\).

    If \(f_0\) is not irreducible, say \(f_0 = gh\), then \(\deg g, \deg h > 0\) since \(f_0\) is primitive, and \(g, h\) are also primitive. By induction on degree, \(f_0\) is a product of irreducible in \(R[X]\). This establishes (1) in definition of UFD.

    By \cref{pr:udfprime}, suffices to show that if \(f\in R[X]\) is irreducible then \(f\) is prime. Write \(f = c(f) f_0\) with \(f_0\) primitive. Since \(f\) is irreducible, then \(f\) is either constant or primitive.

    When \(f\) is constant, \(f\) is irreducible in \(R[X] \implies\) \(f\) is irreducible in \(R\implies\) \(f\) prime in \(R\implies\) \(f\) prime in \(R[X]\) by \cref{co:primeinpoly}.

    When \(f\) is primitive, \(f\) irreducible in \(R[X]\implies \) \(f\) is irreducible in \(F[X]\) by Gauss's Lemma. Because \(F[X]\) is a UFD, \(f\) is prime in \(F[X]\implies\) \(f\) prime in \(R[X]\) by \cref{le:primepolyprime}.
\end{proof}
\begin{remark}
    By \cref{le:primeir}, the last three implications are actually if and only if.
\end{remark}