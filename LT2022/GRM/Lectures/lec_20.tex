\lecture{20}{5 Mar. 2022}{}
\subsection{Direct Sums and Free Modules}
\begin{definition}{}{}
    Let \(M_1, \dots, M_n\) be \(R\)-modules. The \textit{direct sum} \(M_1 \oplus \dots \oplus M_n\) is the set \(M_1 \times \dots \times M_n\) with operations
    \begin{align*}
        (m_1, \dots, m_n) + (m_1', \dots, m_n') &= (m_1 + m_1', \dots, m_n + m_n')\\
        r \cdot (m_1, \dots, m_n) &= (r m_1, \dots, r m_n).
    \end{align*}
    \(M_1 \oplus \dots \oplus M_n\) is \(R\)-module.
\end{definition}
\begin{example}
    \(R^n = R \oplus \dots \oplus R\).
\end{example}
\begin{lemma}{}{}
    If \(M = \oplus_{i = 1}^n M_i\) and \(N_i \leq M_i\) for all \(i\), then setting \(N = \oplus_{i=1}^n N_i \leq M\), and we have
    \[
        \frac{M}{N} \cong \oplus_{i=1}^n \frac{M_i}{N_i}.
    \]
\end{lemma}
\begin{proof}
    Apply first isomorphism theorem to the surjective \(R\)-module homomorphism
    \[
        \fullfunction{\phi}{M}{\bigoplus\limits_{i=1}^n \frac{M_i}{N_i}}{(m_1, \dots, m_n)}{(m_1 + N_1, \dots, m_n + N_n)}
    \]
    with \(\ker(\phi) = N = \oplus_{i=1}^n N_i\).
\end{proof}
\begin{definition}{}{}
    Let \(m_1, \dots, m_n \in M\). The set \(\{m_1, \dots, m_n\}\) is \textit{independent} if
    \[\sum_{i=1}^n r_i m_i = 0 \implies r_1 = r_2 = \dots = r_n = 0.
    \]
\end{definition}
\begin{definition}{}{}
    A subset \(S \subseteq M\) generates \(M\) freely if
    \begin{enumerate}
        \item \(S\) generates \(M\), i.e., \(\forall m \in M, m = \sum_{i=1}^n r_i s_i\) for some \(r_i \in R\), \(s_i \in S\).
        \item Any function \(\psi: S \to N\) where \(N\) is an \(R\)-module extends to an \(R\)-module homomorphism \(\theta: M \to N\). (such an extension is unique by (i))
    \end{enumerate}

    An \(R\)-module which is freely generated by some subset \(S \subseteq M\) is called \(free\) and \(S\) is called a \textit{free basis}.
\end{definition}
\begin{proposition}{}{freeprop}
    For a subset \(S = \{m_1, \dots, m_n\} \subseteq M\), then the following are equivalent.
    \begin{enumerate}
        \item \(S\) generates \(M\) freely.
        \item \(S\) generates \(M\), And \(S\) is independent.
        \item Every element of \(M\) can be written uniquely as \(r_1 m_1 + \dots + r_n m_n\) for some \(r_1, \dots, r_n \in R\).
        \item The \(R\)-module homomorphism
        \[
            \fullfunction{\phi}{R^n}{M}{(r_1,\dots, r_n)}{\sum r_i m_i}
        \]
        is an isomorphism of modules.
    \end{enumerate}
\end{proposition}
\begin{proof}
    (1)\(\implies\)(2): Let \(S\) generate \(M\) freely. If otherwise \(S\) is not independent, then \(\exists r_1, \dots, r_n \in R\) with \(\sum r_i m_i = 0\) and some \(r_j \neq 0\). Define \(\fullfunction{\psi}{S}{R}{m_i}{\begin{dcases}
        1, &\text{ if } i = j\\
        0, &\text{ otherwise}
    \end{dcases}}\). It extends to \(R\)-module homomorphism \(\theta: M \to R\), then
    \[
        0 = \theta(0) = \theta(\sum r_i m_i) = \sum r_i \phi(m_i) = r_j.
    \]
    But we assumed \(r_j \neq 0\), contradiction.

    (2)\(\implies\)(3)\(\implies\)(1) and (3)\(\iff\)(4) is the sequence of proofs easiest.
\end{proof}
\begin{example}
    A non-trivial finite Abelian group is not a free \(\mathbb{Z}\)-module by \cref{pr:freeprop} (4).
\end{example}
\begin{example}
    The set \(\{2, 3\}\) generates \(\mathbb{Z}\) as a \(\mathbb{Z}\)-module, but they are not independent since
    \[
        3 \cdot 2 + (-2) \cdot 3 = 0.
    \]
    Furthermore, no subset of \(\{2,3\}\) is a free basis since \(\{2\}, \{3\}\) do not generate \(\mathbb{Z}\).
\end{example}
\begin{proposition}{Invariance of Dimension}{diminv}
    Let \(R\) be a non-zero ring. If \(R^m \cong R^n\) as \(R\)-modules, then \(m = n\).
\end{proposition}
\begin{proof}
    First, we introduce a general construction. Let \(I \nsub R\) and \(M\) an \(R\)-module. Define \(IM = \set{\sum a_i m_i | a_i \in I, m_i \in M} \leq M\). Then quotient \(\nicefrac{M}{IM}\) is an \(\nicefrac{R}{I}\)-module via
    \begin{align*}
        (r + I)\cdot (m + IM) = rm + IM.
    \end{align*}
    The operation is well-defined because if \(b \in I\),
    \[
        b(m + IM) = bm + IM = 0 + IM.
    \]

    Suppose \(R^m \cong R^n\). Choose \(I \nsub R\) a maximal ideal. (Use Zorn's Lemma and Ex. Sheet Question 4)

    By the above, we get an isomorphism of \(\nicefrac{R}{I}\)-modules.
    \[
        \paren*{\frac{R}{I}}^m \cong \frac{R^m}{IR^m}\cong \frac{R^n}{IR^n} \cong \paren*{\frac{R}{I}}^n.
    \]
    But \(I \nsub R\) is maximal so \(\nicefrac{R}{I}\) is a field. So \(m = n\) by invariance of dimension for vector spaces.
\end{proof}
\subsection{The Structure Theorem and Applications}
Until further notice, \(R\) is a Euclidean domain, and \(\phi: R \setminus \{0\} \to \mathbb{Z}_{\geq 0}\) a Euclidean function.

Let \(A\) be an \(m \times n\) matrix with entries in \(R\).
\begin{definition}{}{}
    The \textit{elementary row operations} are
    \begin{enumerate}
        \item[(ER1)] Add \(\lambda\) times \(j\)th row to \(i\)th row for \(\lambda \in R\) and \(i \neq j\).
        \item[(ER2)] Swap \(i\)th and \(j\)th rows.
        \item[(ER3)] Multiply \(i\)th row by \(u \in R^\times\).
    \end{enumerate}
    Each of these can be realized by left multiplication by an \(m \times m\) invertible matrix.
    
    \begin{enumerate*}
        \item[(ER1)] \(\begin{psmallmatrix}
            1 &  &  &  &   \\
             & 1 &  & \lambda_{ij} &   \\
             &  & \ddots & &   \\
             &  &  & 1 &   \\
             &  &  &  & 1  \\
        \end{psmallmatrix}\)
        \item[(ER2)] \(\begin{psmallmatrix}
            1 &  &  &  &   \\
             & 0 &  & 1_{ij} &   \\
             &  & \ddots &  &   \\
             & 1_{ji} &  & 0 &   \\
             &  &  &  &  1 \\
        \end{psmallmatrix}\)
        \item[(ER3)] \(\begin{psmallmatrix}
            1 &  &  &  &   \\
             & \ddots &  &  &   \\
             &  & u_{ii} &  &   \\
             &  &  & \ddots &   \\
             &  &  &  &  1 \\
        \end{psmallmatrix}\)
    \end{enumerate*}

    In particular, these operations are reversible.

    Similarly, we can define \textit{elementary column operations} (EC1 - 3), realized by right multiplication by \(n \times n\) invertible matrices.
\end{definition}
\begin{definition}{}{}
    Two \(m \times n\) matrices \(A\) and \(B\) are \textit{equivalent} if there exists sequence of elementary row and column operations taking \(A\) to \(B\). If they are equivalent, then \(\exists P, Q\) invertible such that \(B = QAP\).
\end{definition}