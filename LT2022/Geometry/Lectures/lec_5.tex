\lecture{5}{31 Jan. 2022}{}
Explicitly, for
        \[
            \begin{tikzcd}
                \mathbb{R}^2 \arrow[d,"q"] \arrow[r, "e"] & S^1\times S^1 \\ \nicefrac{\mathbb{R}^2}{\mathbb{Z}^2} \arrow[ru, "\hat{e}"]& 
            \end{tikzcd}.
        \]
Consider the atlas \(\{(e(D_{\epsilon}(x, y)),e^{-1} \text{ on this image} \}\) where \(\epsilon < \frac{1}{3}\), so the discs are disjoint from their nontrivial translations.

These are charts on \(T^2\), and the transition maps are (restricted to the appropriate domain of) translation in \(\mathbb{R}^2\). So \(T^2\) has the structure (via this atlas) of an abstract smooth surface.

\begin{remark}[Philosophical]
    Being a topological surface is \textbf{structure}. (One can ask if a topological surface \(X\) is a topological surface)

    Being an abstract smooth surface is \textbf{data}. (I have to give you an atlas of charts with smooth transition maps with smooth inverses. There could be many choices)
\end{remark}
\begin{definition}{}{}
    Let \(\Sigma\) be an abstract smooth surface, and \(f: \Sigma \to \mathbb{R}^n\) a continuous map.

    We say \(f\) is \textit{smooth at a \(p \in \Sigma\)} if whenever \((u , \phi)\) is a chart at \(p\) belonging to the smooth atlas for \(\Sigma\), the map
    \begin{equation*}
    \begin{aligned}
      f \circ \phi^{-1}\colon \phi(u) & \longrightarrow \mathbb{R}^2
    \end{aligned}
    \end{equation*}
    is smooth at \(\phi(p)\in \mathbb{R}^2\).
\end{definition}
\begin{note}
    Smoothness of \(f\) at \(p\) is independent of choice of chart \((u, \phi)\) at \(p\) in the smooth atlas, because the transition map between two such charts is diffeomorphic.
\end{note}
\begin{definition}{}{}
    If \(\Sigma_1, \Sigma_2\) are abstract smooth surfaces, a map \(f: \Sigma_1 \to \Sigma_2\) is \textit{smooth} if it is smooth in the local charts. That is give \((u, \phi)\) at \(p\) and \((u', \psi)\) at \(f(p)\) (in our chosen smooth atlases), we want \(\psi \circ f \circ \phi^{-1}\) smooth at \(\phi^{-1}(p)\).
\end{definition}
\begin{note}
    Again, smoothness of \(f\) does not depend on their choices of charts at \(p, f(p)\) provided I take charts from our smooth atlas.
\end{note}
\begin{definition}{}{}
    Abstract smooth surfaces \(\Sigma_1, \Sigma_2\) are \textit{diffeomorphic}  if there exists a homeomorphism
    \[
        f: \Sigma_1 \to \Sigma_2
    \]
    which is smooth and has smooth inverse.
\end{definition}
\begin{remark}
    We often pass from a given smooth atlas for an abstract smooth surface \(\Sigma\) to the \textit{maximal} "compatible" such atlas. That is, I add to my atlas \(\{(u_i, \phi_2)_{i\in I}\}\) for \(\Sigma\) all charts \((V, \phi)\) with the property that the transition maps are still all diffeomorphisms. (Technically, we use Zorn's Lemma)
\end{remark}

If \(V, V'\) open sets in \(\mathbb{R}^2\), then \(f: V \to V'\) is smooth if it is infinitely differentiable.

\begin{definition}{}{}
    If \(Z \subseteq \mathbb{R}^2\) is an arbitrary subset, we say \(f: Z \to \mathbb{R}^m\) continuous is smooth at \(p \in Z\) if there exists open ball \(p \in B \subseteq \mathbb{R}^n\) and a smooth map \(F: B \to \mathbb{R}^m\) such that
    \[
        \left. F \right|_{B\cap Z} = \left. f \right|_{B\cap Z}.
    \]
    That is, \(f\) is locally the restriction of a smooth map defined on an open set.
\end{definition}

\begin{definition}{}{}
    If \(X \subseteq \mathbb{R}^2\) and \(Y \subseteq \mathbb{R}^2\) are subsets, we say \(X\) and \(Y\) are \textit{diffeomorphic} if there exists continuous map \(f: X \to Y\) such that \(f\) is a smooth homeomorphism with smooth inverse.
\end{definition}
\begin{definition}{}{}
    A \textit{smooth surface in \(R^3\)} is a subspace \(\Sigma\subseteq \mathbb{R}^3\) such that for all \(p \in \Sigma\), \(\exists\) and open set \(p \in U \subseteq \Sigma\) such that \(U\) is diffeomorphic to an open set in \(\mathbb{R}^2\).

    That is, for all \(p \in \Sigma\), there exists open ball \(p \in B \subseteq \mathbb{R}^3\) such that if \(U = B \cap \Sigma\) and a smooth map to an open set \(f: B\to V \subseteq \mathbb{R}^2\) such that \(\left. f\right|_{U}:U\to V\) is a homeomorphism, and the inverse map \(V \to U \subseteq \Sigma \subseteq \mathbb{R}^3\) is also smooth.
\end{definition}
\begin{theorem}{}{abseq}
    For a subset \(\Sigma\in \mathbb{R}^3\), the following are equivalent:
    \begin{enumerate}
        \item \(\Sigma\) is a smooth surface in \(\mathbb{R}^3\).
        \item \(\Sigma\) is locally the graph of a smooth function over one of the co-ordinate planes. That is, \(\forall p \in \Sigma\), exists open \(p \in B \subseteq \mathbb{R}^3\) and open \(V \subseteq \mathbb{R}^3\) such that
        \[
            \Sigma \cap B = \{(x,y,g(x,y))\mid g:V \to \mathbb{R} \text{ smooth}\},
        \]
        or a graph over the \(x-z\) or \(y-z\) plane, locally.
        \item \(\Sigma\) is locally cut out by a smooth function with nonzero derivative. That is, \(\forall p \in \Sigma\), there exists open \(p \in B \subseteq \mathbb{R}^3\) and \(f: B \to \mathbb{R}\) smooth such that
        \[
            \Sigma \cap B = f^{-1}(0)~\&~\left. Df\right|_x \neq 0~\forall x \in B.
        \]
        \item \(\Sigma\) is locally the image of an \textit{allowable} parametrization. That is, if \(p \in \Sigma\), there exists open \(p \in U \subseteq \Sigma\) and smooth chart map \(\sigma: V\subseteq \mathbb{R}^2 \to U\subseteq\mathbb{R}^3\) such that \(\sigma\) is homeomorphic and \(\left.D\sigma \right|_x\) has rank 2 for all \(x \in V\).
    \end{enumerate} 
\end{theorem}
\begin{remark}
    Part 2 says that if \(\Sigma\) is a smooth surface in \(\mathbb{R}^3\), each \(p \in \Sigma\) belongs to a chart \((U, \phi)\) where \(\phi\) is one of (the restriction of) \(\pi_{xy},\pi_{yz},\pi_{xz}\) from \(\mathbb{R}^3\) to \(\mathbb{R}^2\). (The co-ordinate plane projections)

    For example, the transition map
    \[
        (x,y) \mapsto (x,y,g(x,y)) \mapsto (y,g(x,y))
    \]
    has inverse
    \[
        (y,z) \mapsto (h(y,z),y,z) \mapsto (h(y,z),y).
    \]
    That is, all the transition maps between such charts contains projection maps and the smooth maps involved in defining \(\Sigma\) as a graph. This gives \(\Sigma\) the structure of an abstract smooth surface.
\end{remark}

Our next goal is to prove the theorem. The non-trivial work comes from the inverse function theorem.
\begin{theorem}{Inverse Function Theorem}{}
    Let \(U\subseteq \mathbb{R}^n\) be an open set and \(f: U \to \mathbb{R}^n\) be continuously differentiable. Let \(p \in U\) and \(f(p) = q\) and suppose \(\left. Df \right|_p\) is invertible.

    Then there is an open neighborhood \(V\) of \(q\) and a differentiable map \(g: V \to \mathbb{R}^n\) and \(g(q) = p\) with image an open neighborhood \(U' \subseteq U\) of \(p\) such that \(f \circ g = \textbf{id}_V\). 

    If \(f\) is smooth, so is \(g\).
\end{theorem}
\begin{remark}
    We also have \(\left.Dg\right|_q = (\left.Df\right|_p)^{-1}\) by chain rule.
\end{remark}