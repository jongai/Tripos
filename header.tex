% Some basic packages
% Math stuff
\usepackage{amsmath, amsfonts, mathtools, amsthm, amssymb}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage[hyphens]{url}
\usepackage{graphicx}
\usepackage{float}
\usepackage{booktabs}
\usepackage[inline]{enumitem}
\usepackage[colorlinks=true,linkcolor=blue,urlcolor=red]{hyperref}
\usepackage{cleveref}
\usepackage{tikz-cd}
% useful macro for class
\newcommand{\probability}[2]{\mathbb{\MakeUppercase{P}}_{#1} \left(#2\right)}
\newcommand{\variance}[2]{\mathrm{Var}_{#1} \left[ #2 \right]}
\newcommand{\expectation}[2]{\mathbb{\MakeUppercase{E}}_{#1} \left[#2\right]}
\newcommand{\at}[3]{\left.#1\right\vert_{#2}^{#3}}
\newcommand\quotient[2]{
	\mathchoice
	{% \displaystyle
		\text{\raise1ex\hbox{$#1$}\Big/\lower1ex\hbox{$#2$}}%
	}
	{% \textstyle
		#1\,/\,#2
	}
	{% \scriptstyle
		#1\,/\,#2
	}
	{% \scriptscriptstyle  
		#1\,/\,#2
	}
}
\newcommand{\identity}{\mathrm{id}}
\newcommand{\sinc}{\mathop{\mathrm{sinc}}}
\newcommand{\rect}{\mathop{\mathrm{rect}}}
\newcommand{\tri}{\mathop{\mathrm{tri}}}
\newcommand{\Real}{\mathop{\mathrm{Re}}}

\newcommand{\Homomorphism}{\mathrm{Hom}}
\newcommand{\Morphism}{\mathrm{Mor}}
\newcommand{\Object}{\mathrm{Ob}}

\pdfminorversion=7

% Don't indent paragraphs, leave some space between them
\usepackage{parskip}

% for the big braces
\usepackage{bigdelim}

% Hide page number when page is empty
\usepackage{emptypage}
\usepackage{subcaption}
\usepackage{multicol}
\usepackage{xcolor}


% Fancy script capitals
\usepackage{mathrsfs}
\usepackage{cancel}
% Bold math
\usepackage{bm}

% Add \conta symbol to denote contradiction
\usepackage{stmaryrd} % for \lightning
\newcommand\conta{\scalebox{1.5}{$\lightning$}}

% \let\phi\varphi

% Command for short corrections
% Usage: 1+1=\correct{3}{2}

\definecolor{correct}{HTML}{009900}
\newcommand\correct[2]{\ensuremath{\:}{\color{red}{#1}}\ensuremath{\to }{\color{correct}{#2}}\ensuremath{\:}}
\newcommand\green[1]{{\color{correct}{#1}}}

% horizontal rule
\newcommand\hr{
	\noindent\rule[0.5ex]{\linewidth}{0.5pt}
}

% hide parts
\newcommand\hide[1]{}

% si unix
\usepackage{siunitx}

% Environments
\makeatother
% For box around Definition, Theorem, etc.
\usepackage{mdframed}
\mdfsetup{skipabove=1em,skipbelow=0em}
\theoremstyle{definition}
\newmdtheoremenv[nobreak=true]{definition}{Definition}[section]
\providecommand*\definitionautorefname{Definition}
\newtheorem*{eg}{Example}
\newtheorem*{notation}{Notation}
\newtheorem*{prev}{As previously seen}
\newtheorem*{remark}{Remark}
\newtheorem*{note}{Note}
\newtheorem*{problem}{Problem}
\newtheorem*{exercise}{Exercise}
\newtheorem*{answer}{Answer}
\newtheorem*{observe}{Observe}
\newtheorem*{property}{Property}
\newtheorem*{intuition}{Intuition}
\newtheorem*{summary}{Summary}
\newmdtheoremenv[nobreak=true]{theorem}{Theorem}[section]
\providecommand*\theoremautorefname{Theorem}
\newmdtheoremenv[nobreak=true]{lemma}{Lemma}[section]
\providecommand*\lemmaautorefname{Lemma}
\newmdtheoremenv[nobreak=true]{corollary}{Corollary}[section]
\providecommand*\corollaryautorefname{Corollary}
\newmdtheoremenv[nobreak=true]{proposition}{Proposition}[section]
\providecommand*\propositionautorefname{Proposition}

\makeatletter
\def\th@plain{%
	\thm@notefont{}% same as heading font
	\itshape % body font
}
\def\th@definition{%
	\thm@notefont{}% same as heading font
	\normalfont % body font
}
\makeatother

% Fix some spacing
% http://tex.stackexchange.com/questions/22119/how-can-i-change-the-spacing-before-theorems-with-amsthm
\makeatletter
\def\thm@space@setup{%
	\thm@preskip=\parskip \thm@postskip=0pt
}

\usepackage{xifthen}
\def\testdateparts#1{\dateparts#1\relax}
\def\dateparts#1 #2 #3 #4 #5\relax{
	\marginpar{\small\textsf{\mbox{#1 #2 #3 #5}}}
}

\def\@lecture{}%
\newcommand{\lecture}[3]{
	\ifthenelse{\isempty{#3}}{%
		\def\@lecture{Lecture #1}%
	}{%
		\def\@lecture{Lecture #1: #3}%
	}%
	\subsection*{\@lecture}
	\marginpar{\small\textsf{\mbox{#2}}}
}

% These are the fancy headers
\usepackage{fancyhdr}
\pagestyle{fancy}

% LE: left even
% RO: right odd
% CE, CO: center even, center odd
% My name for when I print my lecture notes to use for an open book exam.
% \fancyhead[LE,RO]{Gilles Castel}

\fancyhead[RO,L]{\@lecture} % Right odd,  Left even
\fancyhead[R,LO]{}          % Right even, Left odd
\fancyfoot[RO,L]{\thepage}  % Right odd,  Left even
\fancyfoot[R,LO]{}          % Right even, Left odd
\fancyfoot[C]{\leftmark}     % Center

\makeatother

% TodoNotes and inline notes in fancy boxes
\usepackage{todonotes}
\usepackage{tcolorbox}

% Make boxes breakable
\tcbuselibrary{breakable}

% Figure support as explained in my blog post.
\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}
\newcommand{\incfig}[1]{%
	\def\svgwidth{\columnwidth}
	\import{./figures/}{#1.pdf_tex}
}

% Fix some stuff
% %http://tex.stackexchange.com/questions/76273/multiple-pdfs-with-page-group-included-in-a-single-page-warning
\pdfsuppresswarningpagegroup=1

\renewcommand{\qed}{\hfill$\blacksquare$}

\newcommand*{\MaxNumOfChapters}{10}% Adjust these two settings for your needs.
\newcommand*{\MaxNumOfSections}{6}%

\usepackage{pgffor}%

\newcommand{\lec}[2]{%
	\foreach \c in {#1,...,#2}{%
			\IfFileExists{Lectures/lec_\c.tex} {%
				\input{Lectures/lec_\c.tex}%
			}{}%
		}%
}

\DeclareMathOperator{\Ima}{Im}